<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Allenamento Giapponese</title>
  <style>
    #login-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    #main-app {
      display: none;
    }
  </style>
</head>
<body>

  <div id="login-screen">
    <h2>Benvenuto! Inserisci il tuo nome utente</h2>
    <input type="text" id="username" placeholder="Nome utente" />
    <button onclick="login()">Accedi</button>
  </div>

  <div id="main-app">
    <!-- Qui metti il contenuto della tua app giapponese esistente -->
    <h1>Allenamento in Giapponese</h1>
    <!-- ... -->
  </div>

  <script>
    async function login() {
      const username = document.getElementById("username").value.trim();
      if (!username) {
        alert("Inserisci un nome utente valido.");
        return;
      }

      const response = await fetch("https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec", {
        method: "POST",
        body: JSON.stringify({ username }),
        headers: {
          "Content-Type": "application/json"
        }
      });

      const result = await response.json();

      if (result.success) {
        document.getElementById("login-screen").style.display = "none";
        document.getElementById("main-app").style.display = "block";
        // Salva l'utente in una variabile globale per usarlo dopo
        window.loggedUser = username;
      } else {
        alert("Errore durante il login.");
      }
    }
  </script>
</body>
</html>
